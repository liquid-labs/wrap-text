"use strict";

var _wrap = require("../wrap");
/* global describe expect test */

describe('wrap', function () {
  describe('basic wrapping', function () {
    test.each([['123 56 89', 5, '123\n56 89'], ['123 56 89', 6, '123 56\n89'], ['123 56 89', 7, '123 56\n89'], ['123 56 89', 9, '123 56 89'], ['123-56 89', 5, '123-\n56 89'], ['123-56 89', 6, '123-56\n89'], ['123-56 89', 7, '123-56\n89'], ['123-56 89', 9, '123-56 89']])("Wrapping '%s' width: %i yields '%s'", function (input, width, result) {
      expect((0, _wrap.wrap)(input, {
        width: width
      })).toEqual(result);
    });
    test.each([[' 123 56 89', 5, ' 123\n56 89'], ['  123 56 89', 5, '  123\n56 89'], ['   123 56 89', 5, '   12\n3 56\n89']])("Respect initial indent; '%s' width: %i yields '%s'", function (input, width, result) {
      expect((0, _wrap.wrap)(input, {
        width: width
      })).toEqual(result);
    });
  });
  describe('ignore tags wrap', function () {
    test.each([['1<foo>23 56 89', 5, 0, '1<foo>23\n56 89'], ['123 <foo>56 89', 5, 0, '123\n<foo>56 89'], ['123 <foo>56 89', 4, 0, '123\n<foo>56\n89'], ['123 <foo>56 89', 4, 1, ' 123\n <foo>56\n 89']])("Wrapping '%s' width: %i, ind: %i yields '%s'", function (input, width, indent, result) {
      expect((0, _wrap.wrap)(input, {
        indent: indent,
        ignoreTags: true,
        width: width
      })).toEqual(result);
    });
  });
  describe('constant indents', function () {
    test.each([['123 56 89', 5, 1, ' 123\n 56\n 89'], ['123-56 89', 5, 1, ' 123-\n 56\n 89'], ['123-56 89', 5, 2, '  123\n  -56\n  89']
    //['123-56 89', 5, 2, '  123-\n  56\n  89']
    ])("Wrapping '%s' width: %i, ind: %i yields '%s'", function (input, width, indent, result) {
      expect((0, _wrap.wrap)(input, {
        indent: indent,
        width: width
      })).toEqual(result);
    });
  });
  describe('hangin indents', function () {
    test.each([['123 56 89', 6, 1, '123 56\n 89'], ['123-56 89', 5, 1, '123-\n 56\n 89'], ['123-56 89', 5, 2, '123-\n  56\n  89']
    //['123-56 89', 5, 2, '  123-\n  56\n  89']
    ])("Wrapping '%s' width: %i, hanging ind: %i yields '%s'", function (input, width, hangingIndent, result) {
      expect((0, _wrap.wrap)(input, {
        hangingIndent: hangingIndent,
        width: width
      })).toEqual(result);
    });
  });
  describe('smart indenting', function () {
    test.each([
    // smart indent active, but nothing to smart indent
    ['123 56 89', 5, '123\n56 89'], ['123 <foo>56 89', 5, '123\n<foo>56 89'], ['- 1\n- <foo>23 56 89', 5, '- 1\n- <foo>23\n  56\n  89'], ['123\n- <foo>56 89', 4, '123\n- <foo>56\n  89'], ['123\n- <foo>abcd efg\n  - a longer line', 8, '123\n- <foo>abcd\n  efg\n  - a\n    long\n    er\n    line']])("Wrapping '%s' width: %i, ind: %i yields '%s'", function (input, width, result) {
      expect((0, _wrap.wrap)(input, {
        ignoreTags: true,
        smartIndent: true,
        width: width
      })).toEqual(result);
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfd3JhcCIsInJlcXVpcmUiLCJkZXNjcmliZSIsInRlc3QiLCJlYWNoIiwiaW5wdXQiLCJ3aWR0aCIsInJlc3VsdCIsImV4cGVjdCIsIndyYXAiLCJ0b0VxdWFsIiwiaW5kZW50IiwiaWdub3JlVGFncyIsImhhbmdpbmdJbmRlbnQiLCJzbWFydEluZGVudCJdLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy90ZXN0L3dyYXAudGVzdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBnbG9iYWwgZGVzY3JpYmUgZXhwZWN0IHRlc3QgKi9cbmltcG9ydCB7IHdyYXAgfSBmcm9tICcuLi93cmFwJ1xuXG5kZXNjcmliZSgnd3JhcCcsICgpID0+IHtcbiAgZGVzY3JpYmUoJ2Jhc2ljIHdyYXBwaW5nJywgKCkgPT4ge1xuICAgIHRlc3QuZWFjaChbXG4gICAgICBbJzEyMyA1NiA4OScsIDUsICcxMjNcXG41NiA4OSddLFxuICAgICAgWycxMjMgNTYgODknLCA2LCAnMTIzIDU2XFxuODknXSxcbiAgICAgIFsnMTIzIDU2IDg5JywgNywgJzEyMyA1Nlxcbjg5J10sXG4gICAgICBbJzEyMyA1NiA4OScsIDksICcxMjMgNTYgODknXSxcbiAgICAgIFsnMTIzLTU2IDg5JywgNSwgJzEyMy1cXG41NiA4OSddLFxuICAgICAgWycxMjMtNTYgODknLCA2LCAnMTIzLTU2XFxuODknXSxcbiAgICAgIFsnMTIzLTU2IDg5JywgNywgJzEyMy01Nlxcbjg5J10sXG4gICAgICBbJzEyMy01NiA4OScsIDksICcxMjMtNTYgODknXVxuICAgIF0pKFwiV3JhcHBpbmcgJyVzJyB3aWR0aDogJWkgeWllbGRzICclcydcIiwgKGlucHV0LCB3aWR0aCwgcmVzdWx0KSA9PiB7XG4gICAgICBleHBlY3Qod3JhcChpbnB1dCwgeyB3aWR0aCB9KSkudG9FcXVhbChyZXN1bHQpXG4gICAgfSlcblxuICAgIHRlc3QuZWFjaChbXG4gICAgICBbJyAxMjMgNTYgODknLCA1LCAnIDEyM1xcbjU2IDg5J10sXG4gICAgICBbJyAgMTIzIDU2IDg5JywgNSwgJyAgMTIzXFxuNTYgODknXSxcbiAgICAgIFsnICAgMTIzIDU2IDg5JywgNSwgJyAgIDEyXFxuMyA1Nlxcbjg5J11cbiAgICBdKShcIlJlc3BlY3QgaW5pdGlhbCBpbmRlbnQ7ICclcycgd2lkdGg6ICVpIHlpZWxkcyAnJXMnXCIsIChpbnB1dCwgd2lkdGgsIHJlc3VsdCkgPT4ge1xuICAgICAgZXhwZWN0KHdyYXAoaW5wdXQsIHsgd2lkdGggfSkpLnRvRXF1YWwocmVzdWx0KVxuICAgIH0pXG4gIH0pXG5cbiAgZGVzY3JpYmUoJ2lnbm9yZSB0YWdzIHdyYXAnLCAoKSA9PiB7XG4gICAgdGVzdC5lYWNoKFtcbiAgICAgIFsnMTxmb28+MjMgNTYgODknLCA1LCAwLCAnMTxmb28+MjNcXG41NiA4OSddLFxuICAgICAgWycxMjMgPGZvbz41NiA4OScsIDUsIDAsICcxMjNcXG48Zm9vPjU2IDg5J10sXG4gICAgICBbJzEyMyA8Zm9vPjU2IDg5JywgNCwgMCwgJzEyM1xcbjxmb28+NTZcXG44OSddLFxuICAgICAgWycxMjMgPGZvbz41NiA4OScsIDQsIDEsICcgMTIzXFxuIDxmb28+NTZcXG4gODknXVxuICAgIF0pKFwiV3JhcHBpbmcgJyVzJyB3aWR0aDogJWksIGluZDogJWkgeWllbGRzICclcydcIiwgKGlucHV0LCB3aWR0aCwgaW5kZW50LCByZXN1bHQpID0+IHtcbiAgICAgIGV4cGVjdCh3cmFwKGlucHV0LCB7IGluZGVudCwgaWdub3JlVGFncyA6IHRydWUsIHdpZHRoIH0pKS50b0VxdWFsKHJlc3VsdClcbiAgICB9KVxuICB9KVxuXG4gIGRlc2NyaWJlKCdjb25zdGFudCBpbmRlbnRzJywgKCkgPT4ge1xuICAgIHRlc3QuZWFjaChbXG4gICAgICBbJzEyMyA1NiA4OScsIDUsIDEsICcgMTIzXFxuIDU2XFxuIDg5J10sXG4gICAgICBbJzEyMy01NiA4OScsIDUsIDEsICcgMTIzLVxcbiA1NlxcbiA4OSddLFxuICAgICAgWycxMjMtNTYgODknLCA1LCAyLCAnICAxMjNcXG4gIC01NlxcbiAgODknXVxuICAgICAgLy9bJzEyMy01NiA4OScsIDUsIDIsICcgIDEyMy1cXG4gIDU2XFxuICA4OSddXG4gICAgXSkoXCJXcmFwcGluZyAnJXMnIHdpZHRoOiAlaSwgaW5kOiAlaSB5aWVsZHMgJyVzJ1wiLCAoaW5wdXQsIHdpZHRoLCBpbmRlbnQsIHJlc3VsdCkgPT4ge1xuICAgICAgZXhwZWN0KHdyYXAoaW5wdXQsIHsgaW5kZW50LCB3aWR0aCB9KSkudG9FcXVhbChyZXN1bHQpXG4gICAgfSlcbiAgfSlcblxuICBkZXNjcmliZSgnaGFuZ2luIGluZGVudHMnLCAoKSA9PiB7XG4gICAgdGVzdC5lYWNoKFtcbiAgICAgIFsnMTIzIDU2IDg5JywgNiwgMSwgJzEyMyA1NlxcbiA4OSddLFxuICAgICAgWycxMjMtNTYgODknLCA1LCAxLCAnMTIzLVxcbiA1NlxcbiA4OSddLFxuICAgICAgWycxMjMtNTYgODknLCA1LCAyLCAnMTIzLVxcbiAgNTZcXG4gIDg5J11cbiAgICAgIC8vWycxMjMtNTYgODknLCA1LCAyLCAnICAxMjMtXFxuICA1NlxcbiAgODknXVxuICAgIF0pKFwiV3JhcHBpbmcgJyVzJyB3aWR0aDogJWksIGhhbmdpbmcgaW5kOiAlaSB5aWVsZHMgJyVzJ1wiLCAoaW5wdXQsIHdpZHRoLCBoYW5naW5nSW5kZW50LCByZXN1bHQpID0+IHtcbiAgICAgIGV4cGVjdCh3cmFwKGlucHV0LCB7IGhhbmdpbmdJbmRlbnQsIHdpZHRoIH0pKS50b0VxdWFsKHJlc3VsdClcbiAgICB9KVxuICB9KVxuXG4gIGRlc2NyaWJlKCdzbWFydCBpbmRlbnRpbmcnLCAoKSA9PiB7XG4gICAgdGVzdC5lYWNoKFtcbiAgICAgIC8vIHNtYXJ0IGluZGVudCBhY3RpdmUsIGJ1dCBub3RoaW5nIHRvIHNtYXJ0IGluZGVudFxuICAgICAgWycxMjMgNTYgODknLCA1LCAnMTIzXFxuNTYgODknXSxcbiAgICAgIFsnMTIzIDxmb28+NTYgODknLCA1LCAnMTIzXFxuPGZvbz41NiA4OSddLFxuICAgICAgWyctIDFcXG4tIDxmb28+MjMgNTYgODknLCA1LCAnLSAxXFxuLSA8Zm9vPjIzXFxuICA1NlxcbiAgODknXSxcbiAgICAgIFsnMTIzXFxuLSA8Zm9vPjU2IDg5JywgNCwgJzEyM1xcbi0gPGZvbz41NlxcbiAgODknXSxcbiAgICAgIFsnMTIzXFxuLSA8Zm9vPmFiY2QgZWZnXFxuICAtIGEgbG9uZ2VyIGxpbmUnLCA4LCAnMTIzXFxuLSA8Zm9vPmFiY2RcXG4gIGVmZ1xcbiAgLSBhXFxuICAgIGxvbmdcXG4gICAgZXJcXG4gICAgbGluZSddXG4gICAgXSkoXCJXcmFwcGluZyAnJXMnIHdpZHRoOiAlaSwgaW5kOiAlaSB5aWVsZHMgJyVzJ1wiLCAoaW5wdXQsIHdpZHRoLCByZXN1bHQpID0+IHtcbiAgICAgIGV4cGVjdCh3cmFwKGlucHV0LCB7IGlnbm9yZVRhZ3MgOiB0cnVlLCBzbWFydEluZGVudDogdHJ1ZSwgd2lkdGggfSkpLnRvRXF1YWwocmVzdWx0KVxuICAgIH0pXG4gIH0pXG59KVxuIl0sIm1hcHBpbmdzIjoiOztBQUNBLElBQUFBLEtBQUEsR0FBQUMsT0FBQTtBQURBOztBQUdBQyxRQUFRLENBQUMsTUFBTSxFQUFFLFlBQU07RUFDckJBLFFBQVEsQ0FBQyxnQkFBZ0IsRUFBRSxZQUFNO0lBQy9CQyxJQUFJLENBQUNDLElBQUksQ0FBQyxDQUNSLENBQUMsV0FBVyxFQUFFLENBQUMsRUFBRSxZQUFZLENBQUMsRUFDOUIsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxFQUFFLFlBQVksQ0FBQyxFQUM5QixDQUFDLFdBQVcsRUFBRSxDQUFDLEVBQUUsWUFBWSxDQUFDLEVBQzlCLENBQUMsV0FBVyxFQUFFLENBQUMsRUFBRSxXQUFXLENBQUMsRUFDN0IsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxFQUFFLGFBQWEsQ0FBQyxFQUMvQixDQUFDLFdBQVcsRUFBRSxDQUFDLEVBQUUsWUFBWSxDQUFDLEVBQzlCLENBQUMsV0FBVyxFQUFFLENBQUMsRUFBRSxZQUFZLENBQUMsRUFDOUIsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxF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